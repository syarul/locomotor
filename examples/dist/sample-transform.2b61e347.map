{"version":3,"sources":["..\\index.js","sample-transform.js"],"names":["locomotor","id","anim","opts","animationProperty","functionStr","attr","fps","fpsInterval","stop","startTime","then","elapsed","animStep","frameCount","sinceStart","interval","data","duration","Infinity","node","document","getElementById","Error","hasDebugNode","debugNode","rAF","window","requestAnimationFrame","perf","performance","self","startAnimating","now","animate","debug","currentFps","Math","round","innerHTML","console","log","animSet","range","theta","PI","cos","style","call","module","exports","width","body","offsetWidth","lm","Locomotor","transform","step","setTimeout","square2","c","inc","setInterval"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;;;;;;AAEA,IAAMmD,QAAQ9B,SAAS+B,IAAT,CAAcC,WAAd,GAA4B,GAA1C;;AAEA,IAAMC,KAAK,IAAIC,UAAJ,CAAc,QAAd,EAAwB;AACjCC,YAAW;AAAA,wBAAqBC,IAArB,sBAA0CA,OAAK,GAA/C;AAAA;AADsB,CAAxB,EAER;AACDzC,WAAU,CADT;AAEDC,OAAM,CAAE,CAAF,EAAKkC,KAAL,CAFL;AAGDhB,QAAO,IAHN;AAIDV,YAAW;;AAJV,CAFQ,CAAX;;AAUAiC,WAAW,YAAM;AAChB;AACA,CAFD,EAEG,IAFH;;AAIA,IAAMC,UAAUtC,SAASC,cAAT,CAAwB,WAAxB,CAAhB;;AAEA,IAAIsC,IAAI,CAAR;;AAEA,IAAIC,MAAM,GAAV;;AAEAC,YAAY,YAAM;AACjB,KAAGF,IAAIT,KAAP,EAAc;AACbS,MAAI,CAAJ;AACA;AACDD,SAAQZ,KAAR,CAAcS,SAAd,kBAAuCI,CAAvC,sBAAyDA,IAAE,GAA3D;AACAA,KAAIA,IAAIC,GAAR;AACA,CAND,EAMG,CANH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","file":"sample-transform.2b61e347.map","sourceRoot":"..","sourcesContent":["'use strict'\r\n/**\r\n * locomotor v0.0.1 Alpha release: https://github.com/syarul/locomotor\r\n * A smooth and FPS friendly animation library\r\n *\r\n * <<<<<<<<<<<<<<<<<<<<<<<<<<<<<< locomotor >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n *\r\n * Copyright 2018, Shahrul Nizam Selamat\r\n * Released under the MIT License.\r\n */\r\n\r\nfunction locomotor (id, anim, opts) {\r\n\r\n  anim = anim || {}\r\n\r\n  var animationProperty\r\n  var functionStr\r\n\r\n  for (var attr in anim) {\r\n    animationProperty = attr\r\n    if (typeof anim[attr] === 'function') {\r\n      functionStr = anim[attr]\r\n    }\r\n  }\r\n\r\n  opts = opts || {}\r\n\r\n  this.fps = opts.fps || 60\r\n  this.fpsInterval = opts.fpsInterval || 1000\r\n  this.stop = opts.stop || false\r\n\r\n  var startTime\r\n  var then\r\n  var elapsed\r\n  var animStep = 0\r\n  var frameCount = 0\r\n  var sinceStart = 0\r\n  var interval = opts.interval || 1 // default value\r\n  var data = opts.data || [0, 100] // default custom value\r\n  var duration = opts.duration || Infinity\r\n\r\n  var node = document.getElementById(id)\r\n\r\n  if (!node) {\r\n    throw new Error('unable to find a DOM node with id: ' + id)\r\n  }\r\n\r\n  var hasDebugNode = document.getElementById(opts.debugNode)\r\n\r\n  var rAF = window.requestAnimationFrame\r\n  var perf = window.performance\r\n\r\n  var self = this\r\n\r\n  this.startAnimating = function (fps) {\r\n    self.fpsInterval = 1000 / fps\r\n    then = perf.now()\r\n    startTime = then\r\n    self.animate(then)\r\n  }\r\n\r\n  this.animate = function (now) {\r\n\r\n    if (sinceStart > duration) {\r\n      return\r\n    }\r\n\r\n    if (self.stop) {\r\n      return\r\n    }\r\n\r\n    rAF(self.animate)\r\n\r\n    elapsed = now - then\r\n\r\n    then = now - (elapsed % self.fpsInterval)\r\n\r\n    // debug fps\r\n    if (opts.debug) {\r\n      sinceStart = now - startTime\r\n      var currentFps = Math.round(1000 / (sinceStart / ++frameCount) * 100) / 100\r\n      if (hasDebugNode) {\r\n        hasDebugNode.innerHTML = 'Node: ' + id + ' | Elapsed time: ' + Math.round(sinceStart / 1000 * 100) / 100 + ' secs @ ' + currentFps + ' fps.'\r\n      } else {\r\n        console.log('Node: ' + id + ' | Elapsed time: ' + Math.round(sinceStart / 1000 * 100) / 100 + ' secs @ ' + currentFps + ' fps.')\r\n      }\r\n    }\r\n\r\n    self.animSet(node, interval, data, animationProperty, functionStr, now)\r\n  }\r\n\r\n  this.animSet = function (node, interval, data, animationProperty, functionStr, now) {\r\n    if (typeof functionStr !== 'function') {\r\n      throw new Error('No parameter given to the animation value')\r\n    }\r\n\r\n    var range = data[1] - data[0]\r\n\r\n    // get radial degree base on performance.now()\r\n    var theta = (now % range) / range * 2 * Math.PI\r\n\r\n    // instead linear value we assign accurate value on the given interval\r\n    interval *= (1 + Math.cos(theta) / range)\r\n\r\n    if (animStep > data[1]) {\r\n      animStep = data[0]\r\n    }\r\n\r\n    if (node) {\r\n      node.style[animationProperty] = functionStr.call(self, animStep)\r\n    }\r\n\r\n    animStep = animStep + interval\r\n  }\r\n\r\n  this.startAnimating(this.fps)\r\n}\r\n\r\nmodule.exports = locomotor\r\n","import Locomotor from '../'\r\n\r\nconst width = document.body.offsetWidth - 100\r\n\r\nconst lm = new Locomotor('square', {\r\n  transform: step => `translate(${step}px, 0) rotate(${step/100}rad)`\r\n}, {\r\n  interval: 5,\r\n  data: [ 0, width ],\r\n  debug: true,\r\n  debugNode: 'message'\r\n\r\n})\r\n\r\nsetTimeout(() => {\r\n\t//lm.stop = true\r\n}, 5000)\r\n\r\nconst square2 = document.getElementById('squaretwo')\r\n\r\nlet c = 0\r\n\r\nlet inc = 1.2\r\n\r\nsetInterval(() => {\r\n\tif(c > width) {\r\n\t\tc = 0\r\n\t}\r\n\tsquare2.style.transform = `translate(${c}px, 0) rotate(${c/100}rad)`\r\n\tc = c + inc\r\n}, 1)"]}