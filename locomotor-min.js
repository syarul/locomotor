!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.locomotor=t():e.locomotor=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);const r=window.___hookusPocusRunMap||new(WeakMap||Map);window.___hookusPocusRunMap=r;const o=r.h||[];r.h=o;const u=r.d||new(WeakMap||Map);r.d=u;const i=e=>(function t(){const n=o[r.stackIndex][0];r.hookIndex++;const i=o[r.stackIndex][r.hookIndex]||(o[r.stackIndex][r.hookIndex]=[{context:n,hook:e}]);return(u.get(t)||e).apply({},i.concat(Array.from(arguments)))}),c=(e,t)=>{const n=(o[r.stackIndex]||[]).map(e=>{if(e[0]&&e[0][t]){const n=e[0][t]();return e[0][t]=0,n}}).filter(e=>e instanceof Promise);if(n.length>0){const t=Promise.all(n);r.set(e,r.has(e)?r.get(e).then(t):t)}},a=(e,t)=>{if(r.has(e)){const n=r.get(e).then(t);return r.set(e,n),n}return t()},f=(e,t,n,i)=>{if(!0!==t)return a(e,()=>(r.hookIndex=0,r.stackIndex=o.push(u.get(e)||[e])-1,u.set(e,o[r.stackIndex]),c(e,"before"),a(e,()=>{let t=n.apply(n,i);return c(e,"after"),a(e,()=>(o.pop(),r.delete(e),t))})));r.set(e,c(e,"cleanUp")),u.delete(e)},l=function(){const e=Array.from(arguments);let t;return e[0].pop&&(t=e.shift()),f("boolean"==typeof e[1]?e[0]:e[1]||e[0],!0===e[1]||e[2],e[0],t)},s=i((e,t,n,r)=>(e.s=void 0!==e.s?e.s:r?r(n):n,[e.s,n=>(e.s=t(e.s,n),e.s)])),p=e=>{const[t,n]=s((e,t)=>t.value,e);return[t,e=>n({value:e})]},y=i((e,t,n)=>{e.v&&(!n||n.length===e.v.length&&n.every(t=>~e.v.indexOf(t)))||(e.v=n,e.cleanUp&&e.cleanUp(),e.after=(()=>{let n=t();return n instanceof Promise?n=n.then(t=>e.cleanUp=t):e.cleanUp=n,n}))}),d=(e,t)=>{y(()=>new Promise(t=>requestAnimationFrame(()=>t(e()))),t)};function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,o=!1,u=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,u=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw u}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){g(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=new(WeakMap||Map);O.h=[],O.c=[],O.d=new(WeakMap||Map);var j,P,w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=O.s||0;O.s=t+1;var n={Provider:"Locomotor.Provider.".concat(t)};return O.set(n,e),O.h.push(n),n},k=i(function(e,t){e.s=void 0!==e.s?e.s:O.get(t)||{};var n=b(s(function(t,n){return e.s=n,e.s},e.s),2),r=n[0],o=n[1];return O.d.set(t,function(e){return o(e)}),r}),A=function(e,t){e.context=t,e.elementName.match(/Locomotor.Provider./)&&function(e,t){var n=v({},O.get(O.h[e])||{});for(var r in t)"object"===h(t[r])?n=v({},n,{},t[r]):n[r]=t[r];var o=O.d.get(O.h[e]);O.c.push(o.bind(null,n))}(b(e.elementName.match(/([^Locomotor.Provider.])(.*)/g),1)[0],e.attributes)};function x(e,t){if(e.nodeType===t.nodeType)if(1===e.nodeType){if(function(e,t){return function(e,t){"INPUT"===e.nodeName&&(e.checked!==t.checked&&(e.checked=t.checked),e.value!==t.value&&(e.value=t.value))}(e,t)||e.isEqualNode(t)}(e,t))return;e.nodeName===t.nodeName?e.hasAttribute("key")&&t.hasAttribute("key")||R.has(t)?(R.has(t)&&R.delete(t),e.parentNode.replaceChild(t,e)):(function(e,t){for(var n=t.attributes,r={},o=0;o<n.length;)r[n[o].name]=n[o].value,o++;for(var u=e.attributes,i={},c=0;c<u.length;)i[u[c].name]=u[c].value,c++;for(var a in r)e.attributes[a]&&e.attributes[a].name===a&&e.attributes[a].value!==r[a]?e.setAttribute(a,r[a]):e.hasAttribute(a)||e.setAttribute(a,r[a]);for(var f in i)t.attributes[f]&&e.attributes[f]||e.removeAttribute(f)}(e,t),C(e.firstChild,t.firstChild,e)):C(e.firstChild,t.firstChild,e)}else e.nodeValue!==t.nodeValue&&(e.nodeValue=t.nodeValue);else C(e.firstChild,t.firstChild,e)}function S(e,t){return e.length-t-1}function M(e,t,n){for(var r;e>0;)r=S(n,--e),t.appendChild(n[r])}function C(e,t,n){for(var r,o=0,u=[];t;)o++,j=t,t=t.nextSibling,u.push(j);if(e)for(;e;)P=e,e=e.nextSibling,r=S(u,--o),P&&u[r]?x(P,u[r]):P&&!u[r]&&n.removeChild(P),null===e&&M(o,n,u);else M(o,n,u)}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach(function(t){E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,o=!1,u=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,u=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw u}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var L=new(WeakMap||Map);L.stack=new(WeakMap||Map),L.base=[],L.fn=new(WeakMap||Map);var D,T=function(e){return e()},W=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return z(function e(t,n,r){if(t instanceof Promise&&t.then(function(t){return e(t,n,r)}),t.context===n){for(var o in t)t[o]=r[o];t.context=n}else Array.isArray(t)?Array.from(t,function(t){return e(t,n,r)}):t.children&&t.children.length&&Array.from(t.children,function(t){return e(t,n,r)});return t}.apply(null,t))};D=function(e){var t=_(L.base,1)[0],n=_(L.get(t),1)[0],r=L.fn.get(e);L.fn.set(e,I({},r,{s:!1}));var o=[],u=l([r.p],e);u instanceof Promise&&(o.push(u),u.then(function(e){u=e}));var i=L.fn.get(n);i.n instanceof Promise&&(o.push(i.n),i.n.then(function(e){i.n=e})),o.length?Promise.all(o).then(function(){A(u,e),W(i.n,e,u)}):(A(u,e),W(i.n,e,u))},u.set(s,(e,t,n,r)=>{const[o,u]=e.hook(e,t,n,r);return[o,t=>{const n=u(t);return o!==n&&D(e.context),n}]});var U=function e(t){var n=t.children;return"function"==typeof t.elementName?function(e){var t,n,r,o,u=e.attributes,i=(n=L.stack.get(t=e.elementName)||0,o=(r=L.get(t)||[])[n]||t.bind({}),r[n]=o,L.set(t,r),L.stack.set(t,n+1),!~L.base.indexOf(t)&&L.base.push(t),o),c=null,a=L.fn.get(i)||{},f=a.n,s=a.p;return(c=a.s&&function(e,t){return JSON.stringify(s)===JSON.stringify(t)}(0,u)?f:l([u],i))instanceof Promise?c.then(function(e){return A(e,i)}):A(c,i),L.fn.set(i,{s:!0,n:c,p:u}),c}(t):n&&n.length?I({},t,{children:Array.from(n,e)}):t};function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var R=new(WeakMap||Map);var q=[];function J(e,t){if(t=t||document.createDocumentFragment(),null===e)return t;if(e instanceof Promise)return q.push(e),e.then(function(e){return J(e,t)});var n=e.elementName,r=e.attributes,o=e.children,u=null;return"object"===V(e)?Array.isArray(e)?Array.from(e,function(e){return J(e,t)}):"Locomotor.Fragment"===n?Array.from(o,function(e){return J(e,t)}):n.match(/Locomotor.Provider./)?Array.from(o,function(e){J(e,t)}):(u=document.createElement(n),Array.from(Object.keys(r),function(e){return function(e,t,n){return"function"==typeof n&&t.match(/^on/)?function(e,t,n){e.addEventListener(t.replace(/^on/,"").toLowerCase(),n,!1),R.set(e,!0)}.apply(null,arguments):"className"===t||"class"===t?function(e,t,n){"object"===V(n)?e.setAttribute("class",Object.keys(n).filter(function(e){return n[e]}).map(function(e){return e}).join(" ")):e.setAttribute("class",n)}.apply(null,arguments):"style"===t&&"object"===V(n)?e.setAttribute(t,function(e){var t,n,r="";for(var o in e)r+=(n=e,"".concat((t=o).replace(/([A-Z]+)/g,"-$1").toLowerCase(),":").concat(n[t],";"));return r}(n)):"boolean"==typeof n?n&&e.setAttribute(t,""):e.setAttribute(t,n)}(u,e,r[e])})):u=document.createTextNode(e),o&&o.length&&Array.from(o,function(e){return J(e,u)}),u&&t.appendChild(u),t}function Z(e,t,n,r){var o=this;q.length?Promise.all(q).then(function(){r(e,t),o.emit(n),q=[]}):(r(e,t),this.emit(n))}var $=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"render",value:function(e,t){this.r=t,e=J(e),Z.call(this,t,e,"init",function(e,t){return e.appendChild(t)})}},{key:"deffer",value:function(){var e=this;return new Promise(function(t){return t(e.r)})}},{key:"emit",value:function(e){this.deffer().then(function(e){Array.from(L.base,function(e){return L.stack.set(e,0)}),L.stage=e,O.s=0,Array.from(O.c,T),O.c=[]}.bind(null,e))}},{key:"on",value:function(e){e=J(e),Z.call(this,this.r,e,"update",function(e,t){return function(e,t){C(e.firstChild,t.firstChild,t)}(e,t)})}}])&&F(t.prototype,n),e}()),z=function(e){return $.on(e)},B=function(e,t){if("function"!=typeof e)return U(e);for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return U({elementName:e,attributes:t||{},children:r||[]})};n.d(t,"L",function(){return G}),n.d(t,"default",function(){return B}),n.d(t,"locoDOM",function(){return $}),n.d(t,"useReducer",function(){return s}),n.d(t,"useState",function(){return p}),n.d(t,"useEffect",function(){return d}),n.d(t,"useLayoutEffect",function(){return y}),n.d(t,"createContext",function(){return w}),n.d(t,"useContext",function(){return k});var G="Locomotor.Fragment"}])});